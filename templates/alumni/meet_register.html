{% extends "base.html" %}

{% block content %}
<div class="container mb-5" style="margin-top: 120px;">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h3 class="mb-0">Alumni Meet Registration Form</h3>
                </div>
                <div class="card-body p-4">
                    <p class="text-muted mb-4">
                        We warmly invite all our alumni to register for the upcoming Alumni Meet (January). Please fill
                        in the following details to help us update our records and plan the event smoothly.
                    </p>

                    <form method="POST" id="alumniMeetForm">
                        <!-- Personal Details Section -->
                        <h5 class="mt-4 mb-3"><strong>Personal Details</strong></h5>

                        <div class="mb-3">
                            <label for="full_name" class="form-label">Full Name <span
                                    class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="full_name" name="full_name" required>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="gender" class="form-label">Gender <span class="text-danger">*</span></label>
                                <select class="form-select" id="gender" name="gender" required>
                                    <option value="">Select Gender</option>
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="dob" class="form-label">Date of Birth <span
                                        class="text-danger">*</span></label>
                                <input type="date" class="form-control" id="dob" name="dob" required>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="contact_no" class="form-label">Contact No. <span
                                        class="text-danger">*</span></label>
                                <input type="tel" class="form-control" id="contact_no" name="contact_no" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="email" class="form-label">Email Id <span
                                        class="text-danger">*</span></label>
                                <input type="email" class="form-control" id="email" name="email"
                                    value="{{ current_user.email }}" required>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="current_address" class="form-label">Current Address <span
                                    class="text-danger">*</span></label>
                            <textarea class="form-control" id="current_address" name="current_address" rows="2"
                                required></textarea>
                        </div>

                        <!-- Academic Details Section -->
                        <h5 class="mt-4 mb-3"><strong>Academic Details (College Details)</strong></h5>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="enrollment_no" class="form-label">Enrollment No. <span
                                        class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="enrollment_no" name="enrollment_no"
                                    required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="course" class="form-label">Course <span class="text-danger">*</span></label>
                                <select class="form-select" id="course" name="course" required>
                                    <option value="">Select Course</option>
                                    <option value="BCA (BTTS)">BCA (BTTS)</option>
                                    <option value="BBA">BBA</option>
                                    <option value="B.Com">B.Com</option>
                                    <option value="BCA (DBIT)">BCA (DBIT)</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="passing_year" class="form-label">Year of Passing <span
                                    class="text-danger">*</span></label>
                            <input type="number" class="form-control" id="passing_year" name="passing_year" min="2000"
                                max="2030" required>
                        </div>

                        <div class="mb-3">
                            <label for="current_status" class="form-label">Current Status <span
                                    class="text-danger">*</span></label>
                            <select class="form-select" id="current_status" name="current_status" required
                                onchange="toggleSections()">
                                <option value="">Select Status</option>
                                <option value="Employed">Employed</option>
                                <option value="Self-Employed">Self-Employed</option>
                                <option value="Higher Studies">Higher Studies</option>
                                <option value="Preparing for Competitive Exams">Preparing for Competitive Exams</option>
                                <option value="Not Working Currently">Not Working Currently</option>
                            </select>
                        </div>

                        <!-- Professional Details Section -->
                        <div id="professionalSection" style="display:none;">
                            <h5 class="mt-4 mb-3"><strong>Professional Details</strong></h5>

                            <div class="mb-3">
                                <label for="company_name" class="form-label">Company Name</label>
                                <input type="text" class="form-control" id="company_name" name="company_name">
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="designation" class="form-label">Designation</label>
                                    <input type="text" class="form-control" id="designation" name="designation">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="work_location" class="form-label">Work Location</label>
                                    <input type="text" class="form-control" id="work_location" name="work_location">
                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="experience_years" class="form-label">Experience (in Years)</label>
                                <input type="number" class="form-control" id="experience_years" name="experience_years"
                                    min="0">
                            </div>
                        </div>

                        <!-- Higher Studies Section -->
                        <div id="higherStudiesSection" style="display:none;">
                            <h5 class="mt-4 mb-3"><strong>Higher Studies Details</strong></h5>

                            <div class="mb-3">
                                <label for="university_name" class="form-label">Name of University/College</label>
                                <input type="text" class="form-control" id="university_name" name="university_name">
                            </div>

                            <div class="mb-3">
                                <label for="higher_study_course" class="form-label">Course</label>
                                <input type="text" class="form-control" id="higher_study_course"
                                    name="higher_study_course">
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="higher_study_country" class="form-label">Country</label>
                                    <input type="text" class="form-control" id="higher_study_country"
                                        name="higher_study_country">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="higher_study_state" class="form-label">State</label>
                                    <input type="text" class="form-control" id="higher_study_state"
                                        name="higher_study_state">
                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="enrollment_year" class="form-label">Year of Enrollment</label>
                                <input type="number" class="form-control" id="enrollment_year" name="enrollment_year"
                                    min="2000" max="2030">
                            </div>
                        </div>

                        <!-- Alumni Contributions Section -->
                        <h5 class="mt-4 mb-3"><strong>Alumni Contributions</strong></h5>

                        <div class="mb-3">
                            <label class="form-label">Would you like to contribute to college activities? <span
                                    class="text-danger">*</span></label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contribute_to_college"
                                    id="contribute_yes" value="Yes" onchange="toggleContributions()">
                                <label class="form-check-label" for="contribute_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contribute_to_college"
                                    id="contribute_no" value="No" checked onchange="toggleContributions()">
                                <label class="form-check-label" for="contribute_no">No</label>
                            </div>
                        </div>

                        <div id="contributionAreasSection" style="display:none;">
                            <label class="form-label">How would you like to contribute? (Check all that apply)</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="contribution_areas"
                                    value="Guest Lectures" id="guest_lectures">
                                <label class="form-check-label" for="guest_lectures">Guest Lectures</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="contribution_areas"
                                    value="Career Guidance" id="career_guidance">
                                <label class="form-check-label" for="career_guidance">Career Guidance</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="contribution_areas"
                                    value="Student Mentorship" id="student_mentorship">
                                <label class="form-check-label" for="student_mentorship">Student Mentorship</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="contribution_areas"
                                    value="Internship Opportunities" id="internship_opportunities">
                                <label class="form-check-label" for="internship_opportunities">Internship
                                    Opportunities</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="contribution_areas"
                                    value="Placement Referrals" id="placement_referrals">
                                <label class="form-check-label" for="placement_referrals">Placement Referrals</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="contribution_areas"
                                    value="Event Participation" id="event_participation">
                                <label class="form-check-label" for="event_participation">Event Participation</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="contribution_areas" value="Other"
                                    id="other">
                                <label class="form-check-label" for="other">Other</label>
                            </div>
                        </div>

                        <!-- Event Confirmation Section -->
                        <h5 class="mt-4 mb-3"><strong>Event Confirmation</strong></h5>

                        <div class="mb-3">
                            <label class="form-label">Are you attending the Alumni Meet? <span
                                    class="text-danger">*</span></label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="attending_meet" id="attending_yes"
                                    value="Yes" required>
                                <label class="form-check-label" for="attending_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="attending_meet" id="attending_no"
                                    value="No" required>
                                <label class="form-check-label" for="attending_no">No</label>
                            </div>
                        </div>

                        <div class="alert alert-info mt-3">
                            <small>By submitting the form, you consent to the use of your details strictly for alumni
                                communication and event planning. We are planning to organize the Alumni Meet in
                                January.</small>
                        </div>

                        <div class="d-grid gap-2 mt-4">
                            <button type="submit" class="btn btn-primary btn-lg">Submit Registration</button>
                            <a href="{{ url_for('dashboard_alumni') }}" class="btn btn-secondary">Cancel</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function toggleSections() {
        const status = document.getElementById('current_status').value;
        document.getElementById('professionalSection').style.display =
            (status === 'Employed' || status === 'Self-Employed') ? 'block' : 'none';
        document.getElementById('higherStudiesSection').style.display =
            status === 'Higher Studies' ? 'block' : 'none';
    }

    function toggleContributions() {
        const contribute = document.getElementById('contribute_yes').checked;
        document.getElementById('contributionAreasSection').style.display =
            contribute ? 'block' : 'none';
    }
</script>
{% endblock %}