<!-- filepath: d:\RajenderMohan_BCA\RajenderMohan_Projects\6_Semester\Major Project\Alumni App\templates\profile_student.html -->
{% extends "base.html" %}

{% block content %}
<!-- Header Section -->
<div class="profile-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 60px 0; position: relative; overflow: hidden;">
    <div class="header-bg">
        <div class="shape" style="width: 300px; height: 300px; background: rgba(255,255,255,0.1); border-radius: 50%; top: -100px; left: -100px; animation: float 6s ease-in-out infinite;"></div>
    </div>
    <div class="container" style="position: relative; z-index: 2;">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <h1 class="text-white display-5 fw-bold mb-2" style="animation: slideInLeft 0.8s ease;">Student Profile</h1>
                <p class="text-white-50" style="animation: slideInLeft 0.9s ease;">Academic journey and achievements</p>
            </div>
        </div>
    </div>
</div>

<div class="container mt-5 mb-5">
    <div class="row">
        <!-- Left Sidebar -->
        <div class="col-lg-4 mb-4">
            <!-- Profile Card -->
            <div class="card border-0 shadow-lg" style="border-radius: 20px; overflow: hidden; animation: slideInLeft 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);">
                <div style="height: 100px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
                <div class="card-body text-center" style="padding-top: 3rem;">
                    <!-- Avatar -->
                    <div style="width: 120px; height: 120px; margin: -70px auto 0; border-radius: 50%; border: 5px solid white; box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3); overflow: hidden; background: #f0f0f0; display: flex; align-items: center; justify-content: center; position: relative; z-index: 10; margin-bottom: 1rem;">
                        {% if user['profile_pic'] and user['profile_pic'].startswith('/') %}
                            <img src="{{ user['profile_pic'] }}" alt="Avatar" style="width: 100%; height: 100%; object-fit: cover;">
                        {% else %}
                            <img src="https://ui-avatars.com/api/?name={{ user['name'] }}&size=120&background=0D6EFD&color=fff" alt="Avatar" style="width: 100%;">
                        {% endif %}
                    </div>

                    <!-- Info -->
                    <h4 class="fw-bold mb-1">{{ user['name'] }}</h4>
                    <p class="text-primary fw-bold mb-3"><i class="fas fa-graduation-cap"></i> Student</p>
                    
                    <div class="mb-3">
                        <span class="badge bg-primary me-2">{{ profile['enrollment_no'] }}</span>
                        <span class="badge bg-info">{{ profile['department'] }}</span>
                    </div>

                    <hr>

                    <!-- Contact -->
                    <div class="mb-3 text-start">
                        <small class="text-muted d-block mb-2"><i class="fas fa-envelope"></i> Email</small>
                        <p class="text-break mb-3" style="font-size: 0.9rem;">{{ user['email'] }}</p>
                        
                        <small class="text-muted d-block mb-2"><i class="fas fa-phone"></i> Phone</small>
                        <p class="mb-0">{{ user['phone'] }}</p>
                    </div>

                    <hr>

                    <!-- Actions -->
                    {% if current_user.id == user['id'] %}
                    <div class="d-grid gap-2">
                        <a href="{{ url_for('edit_student_profile', user_id=user['id']) }}" class="btn btn-primary">
                            <i class="fas fa-edit"></i> Edit Profile
                        </a>
                        <a href="{{ url_for('change_password') }}" class="btn btn-outline-warning">
                            <i class="fas fa-lock"></i> Change Password
                        </a>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Right Content -->
        <div class="col-lg-8">
            <!-- Academic Information -->
            <div class="card border-0 shadow-lg mb-4" style="border-radius: 20px; animation: slideInRight 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);">
                <div class="card-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; padding: 1.5rem; border-radius: 20px 20px 0 0;">
                    <h5 class="text-white fw-bold mb-0" style="font-size: 1.2rem;">
                        <i class="fas fa-book me-2"></i> Academic Information
                    </h5>
                </div>
                <div class="card-body p-4">
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="info-box p-3" style="background: #f8f9fa; border-radius: 12px; border-left: 4px solid #667eea;">
                                <small class="text-muted d-block mb-1"><i class="fas fa-book"></i> Department</small>
                                <h6 class="fw-bold mb-0">{{ profile['department'] }}</h6>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="info-box p-3" style="background: #f8f9fa; border-radius: 12px; border-left: 4px solid #0D6EFD;">
                                <small class="text-muted d-block mb-1"><i class="fas fa-certificate"></i> Degree</small>
                                <h6 class="fw-bold mb-0">{{ profile['degree'] }}</h6>
                            </div>
                        </div>
                    </div>

                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="info-box p-3" style="background: #f8f9fa; border-radius: 12px; border-left: 4px solid #43e97b;">
                                <small class="text-muted d-block mb-1"><i class="fas fa-layer-group"></i> Semester</small>
                                <div class="progress mt-2" style="height: 25px; border-radius: 8px;">
                                    <div class="progress-bar bg-success" style="width: {% if profile['semester'] %}{{ (profile['semester'] | int / 6) * 100 }}%{% else %}0%{% endif %}">
                                        {{ profile['semester'] or 'N/A' }}/6
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="info-box p-3" style="background: #f8f9fa; border-radius: 12px; border-left: 4px solid #FFC107;">
                                <small class="text-muted d-block mb-1"><i class="fas fa-chart-line"></i> CGPA</small>
                                <h6 class="fw-bold mb-0 text-success">{{ profile['cgpa'] if profile['cgpa'] else 'N/A' }}</h6>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Skills & Achievements -->
            <div class="card border-0 shadow-lg" style="border-radius: 20px; animation: slideInRight 0.9s cubic-bezier(0.34, 1.56, 0.64, 1);">
                <div class="card-header" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border: none; padding: 1.5rem; border-radius: 20px 20px 0 0;">
                    <h5 class="text-white fw-bold mb-0" style="font-size: 1.2rem;">
                        <i class="fas fa-star me-2"></i> Skills & Achievements
                    </h5>
                </div>
                <div class="card-body p-4">
                    <!-- Skills -->
                    <div class="mb-4">
                        <small class="text-muted fw-bold d-block mb-2"><i class="fas fa-tools"></i> Skills</small>
                        {% if profile['skills'] %}
                        <div>
                            {% for skill in profile['skills'].split(',') %}
                                <span class="badge bg-primary me-2 mb-2" style="padding: 0.6rem 0.8rem; font-size: 0.9rem;">
                                    {{ skill.strip() }}
                                </span>
                            {% endfor %}
                        </div>
                        {% else %}
                        <p class="text-muted mb-0">No skills added yet</p>
                        {% endif %}
                    </div>

                    <hr>

                    <!-- Achievements -->
                    <div>
                        <small class="text-muted fw-bold d-block mb-3"><i class="fas fa-trophy"></i> Achievements</small>
                        {% if profile['achievements'] %}
                        <div class="achievement-list">
                            {% for achievement in profile['achievements'].split('|') %}
                                <div class="achievement-item mb-2 p-2" style="background: #f8f9fa; border-left: 3px solid #FFC107; border-radius: 8px;">
                                    <i class="fas fa-medal text-warning"></i>
                                    <span class="ms-2">{{ achievement.strip() }}</span>
                                </div>
                            {% endfor %}
                        </div>
                        {% else %}
                        <p class="text-muted mb-0">No achievements added yet</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    @keyframes slideInLeft {
        from { opacity: 0; transform: translateX(-30px); }
        to { opacity: 1; transform: translateX(0); }
    }

    @keyframes slideInRight {
        from { opacity: 0; transform: translateX(30px); }
        to { opacity: 1; transform: translateX(0); }
    }

    @keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-20px); }
    }

    .card {
        border: none !important;
        transition: all 0.3s ease;
    }

    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 40px rgba(0,0,0,0.15) !important;
    }

    .info-box {
        transition: all 0.3s ease;
    }

    .info-box:hover {
        transform: translateX(5px);
        background: #e9ecef !important;
    }

    .achievement-item {
        transition: all 0.3s ease;
    }

    .achievement-item:hover {
        transform: translateX(5px);
        box-shadow: 0 5px 15px rgba(255, 193, 7, 0.2);
    }
</style>
{% endblock %}